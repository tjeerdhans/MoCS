@using MoCS.Web.Models
@model UserModel

@{
    ViewBag.Title = "Users";
}

<h2>@ViewBag.Title</h2>
<table class="table table-condensed table-striped">
    <thead>
        <tr>
            <th>User name</th>
            <th>Team</th>
            <th></th>
        </tr>
    </thead>
    @foreach (var item in Model.UserModelItems)
    {
        <tr>
            <td>@item.UserName</td>
            <td>@item.TeamName</td>
            <td>
                @if (User.IsInRole(UserRoles.Admin.ToString()))
                {
                    using (Html.BeginForm("Delete", "Users", new { id = item.UserName }))
                    {
                        @Html.AntiForgeryToken()
                        <a href="@Url.Action("Edit", new { id =  item.UserName })" class="btn btn-default btn-sm"><span class="glyphicon glyphicon-pencil" title="Edit this user"></span></a>
                        <button type="submit" onclick="return confirm('Are you sure you want to delete this user?');" class="btn btn-default btn-sm" title="Delete this user"><span class="glyphicon glyphicon-remove" title="Delete this user"></span></button>
                    }
                }
            </td>
        </tr>
    }
</table>
<a href="@Url.Action("Add")" class="btn btn-primary btn-sm"><span class="glyphicon glyphicon-plus"></span> Add user</a>